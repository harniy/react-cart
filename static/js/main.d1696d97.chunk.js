(this["webpackJsonpshop-cart"]=this["webpackJsonpshop-cart"]||[]).push([[0],{21:function(c,t,e){},28:function(c,t,e){},30:function(c,t,e){},31:function(c,t,e){},32:function(c,t,e){"use strict";e.r(t);var a=e(0),r=e.n(a),s=e(10),n=e.n(s),i=e(6),d=e(2),o=(e(21),e(5)),u=e(12),l=e(7),j=e(15),p=e(11),b=Object(p.b)({name:"cart",initialState:{products:[]},reducers:{addToCart:function(c,t){var e=c.products.findIndex((function(c){return c.id===t.payload.id}));-1===e?c.products.push(Object(j.a)(Object(j.a)({},t.payload),{},{quantity:1})):c.products[e].quantity+=1},removeFromCart:function(c,t){c.products=c.products.filter((function(c){return c.id!==t.payload}))},removeQuantity:function(c,t){var e=c.products.findIndex((function(c){return c.id===t.payload}));c.products[e].quantity>=2&&(c.products[e].quantity-=1)}}}),m=b.actions,h=m.addToCart,_=m.removeFromCart,O=m.removeQuantity,x=b.reducer,f=(e(28),e(1));function v(c){var t=c.values,e=c.i,r=c.productsLength,s=t.id,n=t.name,i=t.price,d=t.image,j=t.quantity,p=t.discount,b=Object(a.useState)(0),m=Object(l.a)(b,2),x=m[0],v=m[1],N=Object(o.c)((function(c){return c.cart})).products,g=Object(o.b)();return Object(a.useEffect)((function(){var c=function(c,t,e){var a=c*t;if(e)return t>=3&&(a=c*t-c/2*Math.floor(t/3)),a;return a}(i,j,p);v(c)}),[N]),Object(f.jsxs)("div",{className:"cart__product "+(e!==r-1?"cart__border":""),children:[Object(f.jsxs)("div",{className:"cart__product-info",children:[Object(f.jsx)("img",{src:d,alt:n,className:"cart__product-image"}),Object(f.jsxs)("div",{className:"card__product-detail",children:[Object(f.jsxs)("p",{className:"cart__product-name",children:["Name: ",Object(f.jsx)("span",{children:n})]}),Object(f.jsxs)("p",{className:"cart__product-name",children:["Price: ",Object(f.jsxs)("span",{children:[i,"$"]})]}),p&&Object(f.jsx)("p",{className:"cart__product-name discount-text",children:"Discount"})]})]}),Object(f.jsxs)("div",{className:"cart__product-quantity",children:[Object(f.jsx)("button",{onClick:function(){return function(c){g(O(c))}(s)},className:"cart__product-button",children:"-"}),Object(f.jsx)("p",{className:"cart__product-input",children:j}),Object(f.jsx)("button",{onClick:function(){return function(c){g(h.apply(void 0,Object(u.a)(N.filter((function(t){return t.id===c})))))}(s)},className:"cart__product-button",children:"+"})]}),Object(f.jsx)("div",{className:"cart__product-total",children:p&&j>=3?Object(f.jsxs)("div",{className:"cart__product-discount",children:[Object(f.jsxs)("span",{style:{textDecoration:"line-through",color:"#f44336"},children:[i*j,"$"]}),Object(f.jsxs)("span",{children:[x,"$"]})]}):Object(f.jsxs)("span",{children:[x,"$"]})}),Object(f.jsx)("div",{className:"cart__product-remove",onClick:function(){return g(_(s))},title:"remove",children:"\xd7"})]})}function N(){var c=Object(o.c)((function(c){return c.cart})).products,t=c.reduce((function(c,t){var e=t.price*t.quantity;if(!t.discount)return c+e;if(t.quantity>=3){var a=Math.floor(t.quantity/3);e=t.price*t.quantity-t.price/2*a}return c+e}),0);return Object(f.jsxs)("div",{className:"shopping__cart",children:[Object(f.jsx)("h1",{className:"shopping__cart-header",children:"Shopping Cart"}),Object(f.jsxs)("div",{className:"shopping__cart-block",children:[Object(f.jsxs)("ul",{className:"shopping__cart-list",children:[Object(f.jsx)("li",{className:"shopping__cart-item prod",children:"Product detail"}),Object(f.jsx)("li",{className:"shopping__cart-item qty",children:"quantity"}),Object(f.jsx)("li",{className:"shopping__cart-item total",children:"total"})]}),c.map((function(t,e){var a=t.id,r=t.name,s=t.price,n=t.image,i=t.quantity,d=t.discount;return Object(f.jsx)(v,{values:{id:a,name:r,price:s,image:n,quantity:i,discount:d},i:e,productsLength:c.length},a)})),Object(f.jsxs)("div",{className:"cart__product-bottom",children:[Object(f.jsx)(i.b,{to:"/",children:Object(f.jsxs)("div",{className:"cart__back",children:[Object(f.jsx)("span",{className:"cart__arrow",children:"\u2190"})," Go back"]})}),Object(f.jsxs)("div",{className:"total__sum",children:[t,"$"]})]})]})]})}function g(){var c=Object(o.c)((function(c){return c.cart.products}));return Object(f.jsx)("div",{className:"cart__section",children:0!==c.length?Object(f.jsx)(N,{}):Object(f.jsxs)("div",{className:"empty__cart  shopping__cart-block",children:[Object(f.jsx)("p",{className:"empty__cart-title",children:"Cart is empty"}),Object(f.jsx)("div",{className:"cart__product-bottom",children:Object(f.jsx)(i.b,{to:"/",children:Object(f.jsxs)("div",{className:"cart__back",children:[Object(f.jsx)("span",{className:"cart__arrow",children:"\u2190"})," Go back"]})})})]})})}e(30);var y=e.p+"static/media/cart.ec34e04f.svg",q=[{id:1,name:"Banana",price:10,image:"https://s.myspar.ru/upload/img/10/1013/101382.jpg?1594130253",discount:!1},{id:2,name:"Apple",price:8,image:"https://m.dom-eda.com/uploads/images/catalog/item/86df51de21/c25c94fe96_1000.jpg",discount:!1},{id:3,name:"Papaya",price:10,image:"https://img2.zakaz.ua/upload.version_1.0.31fcbe6e84b88fdbfae213b548bad0b0.1350x1350.jpeg",discount:!0}];function k(){var c=Object(o.c)((function(c){return c.cart})),t=Object(o.b)();return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("header",{className:"header",children:Object(f.jsx)("div",{className:"header__cart-block",children:Object(f.jsxs)(i.b,{to:"/cart",children:[Object(f.jsx)("img",{src:y,alt:"cart icon",className:"header__cart-icon"}),Object(f.jsx)("span",{className:"header__cart-quantity",children:c.products.length})]})})}),Object(f.jsx)("main",{className:"product__section",children:q.map((function(c){var e=c.name,a=c.price,r=c.discount,s=c.image,n=c.id;return Object(f.jsxs)("div",{className:"product__card",children:[Object(f.jsx)("img",{src:s,alt:e,className:"product__card-image"}),Object(f.jsx)("p",{className:"product__card-name",children:e}),r&&Object(f.jsx)("p",{className:"product__card-discount",children:"discount"}),Object(f.jsx)("p",{className:"product__card-price",children:a}),Object(f.jsx)("p",{className:"product__card-add",onClick:function(){return function(c){t(h.apply(void 0,Object(u.a)(q.filter((function(t){return t.id===c})))))}(n)},children:"add to cart"})]},n)}))})]})}function C(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(k,{})})}var $=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(i.a,{children:Object(f.jsxs)(d.c,{children:[Object(f.jsx)(d.a,{path:"/cart",element:Object(f.jsx)(g,{})}),Object(f.jsx)(d.a,{path:"/",element:Object(f.jsx)(C,{})})]})})})},w=(e(31),Object(p.a)({reducer:{cart:x}}));n.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(o.a,{store:w,children:Object(f.jsx)($,{})})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.d1696d97.chunk.js.map