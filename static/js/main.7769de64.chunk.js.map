{"version":3,"sources":["feutures/cartSlice.js","components/products/Product.jsx","components/cart/Cart.jsx","pages/CartPage.jsx","assets/img/cart.svg","productsData.js","components/main/Main.jsx","pages/HomePage.jsx","App.js","store.js","index.js"],"names":["producrCartSlice","createSlice","name","initialState","products","reducers","addToCart","state","action","productIndex","findIndex","prod","id","payload","push","quantity","removeFromCart","filter","removeQuantity","actions","Products","values","i","productsLength","price","image","discount","useState","priceCount","setPriceCount","useSelector","cart","dispatch","useDispatch","useEffect","sumPrice","Math","floor","productPrice","className","src","alt","onClick","minusQuantity","plusQuantity","style","textDecoration","color","title","Cart","totalSum","reduce","sum","el","count","map","length","to","CartPage","userCart","Main","productsInCart","carIcon","addProduct","HomePage","App","path","element","configureStore","reducer","cartReducer","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.7769de64.chunk.js","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const producrCartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState: { products: [] },\r\n  reducers: {\r\n    addToCart: (state, action) => {\r\n      const productIndex = state.products.findIndex(\r\n        (prod) => prod.id === action.payload.id\r\n      );\r\n\r\n      if (productIndex === -1) {\r\n        state.products.push({ ...action.payload, quantity: 1 });\r\n      } else {\r\n          state.products[productIndex].quantity += 1\r\n      }\r\n    },\r\n    removeFromCart: (state, action) => {\r\n      state.products = state.products.filter(prod => prod.id !== action.payload)\r\n    },\r\n    removeQuantity: (state, action) => {\r\n      const productIndex = state.products.findIndex(\r\n        (prod) => prod.id === action.payload\r\n      )\r\n\r\n      if(state.products[productIndex].quantity >= 2) {\r\n        state.products[productIndex].quantity -= 1\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport const { addToCart, removeFromCart, removeQuantity } = producrCartSlice.actions;\r\n\r\nexport default producrCartSlice.reducer;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  removeFromCart,\r\n  removeQuantity,\r\n  addToCart,\r\n} from \"../../feutures/cartSlice\";\r\nimport \"./products.css\";\r\n\r\nexport default function Products({ values, i, productsLength}) {\r\n  const { id, name, price, image, quantity, discount } = values;\r\n\r\n  const [priceCount, setPriceCount] = useState(0);\r\n\r\n  const { products } = useSelector((state) => state.cart);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const minusQuantity = (id) => {\r\n    dispatch(removeQuantity(id));\r\n  };\r\n\r\n  const plusQuantity = (id) => {\r\n    dispatch(addToCart(...products.filter((prod) => prod.id === id)));\r\n  };\r\n\r\n  function productPrice(price, quantity, discount) {\r\n    let sumPrice = price * quantity;\r\n\r\n    if (discount) {\r\n      if (quantity >= 3) {\r\n        let count = Math.floor(quantity / 3);\r\n        sumPrice = price * quantity - (price / 2) * count;\r\n      }\r\n      return sumPrice;\r\n    } else {\r\n      return sumPrice;\r\n    }\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    const sumPrice = productPrice(price, quantity, discount);\r\n    setPriceCount(sumPrice);\r\n\r\n  }, [products]);\r\n\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        \"cart__product \" + (i !== productsLength - 1 ? \"cart__border\" : \"\")\r\n      }\r\n    >\r\n      <div className=\"cart__product-info\">\r\n        <img src={image} alt={name} className=\"cart__product-image\" />\r\n        <div className=\"card__product-detail\">\r\n          <p className=\"cart__product-name\">\r\n            Name: <span>{name}</span>\r\n          </p>\r\n          <p className=\"cart__product-name\">\r\n            Price: <span>{price}$</span>\r\n          </p>\r\n          {discount && (\r\n            <p className=\"cart__product-name discount-text\">Discount</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"cart__product-quantity\">\r\n        <button\r\n          onClick={() => minusQuantity(id)}\r\n          className=\"cart__product-button\"\r\n        >\r\n          -\r\n        </button>\r\n        <p className=\"cart__product-input\">{quantity}</p>\r\n        <button\r\n          onClick={() => plusQuantity(id)}\r\n          className=\"cart__product-button\"\r\n        >\r\n          +\r\n        </button>\r\n      </div>\r\n      <div className=\"cart__product-total\">\r\n        {discount && quantity >= 3 ? (\r\n          <div className=\"cart__product-discount\">\r\n            <span style={{ textDecoration: \"line-through\", color: \"#f44336\" }}>\r\n              {price * quantity}$\r\n            </span>\r\n            <span>{priceCount}$</span>\r\n          </div>\r\n        ) : (\r\n          <span>{priceCount}$</span>\r\n        )}\r\n      </div>\r\n      <div\r\n        className=\"cart__product-remove\"\r\n        onClick={() => dispatch(removeFromCart(id))}\r\n        title=\"remove\"\r\n      >\r\n        &#215;\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./cart.css\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport Product from \"../products/Product\";\r\n\r\nexport default function Cart() {\r\n  const { products } = useSelector((state) => state.cart);\r\n\r\n  const totalSum = products.reduce((sum, el) => {\r\n    let sumPrice = el.price * el.quantity;\r\n\r\n    if (el.discount) {\r\n      if (el.quantity >= 3) {\r\n        let count = Math.floor(el.quantity / 3);\r\n        sumPrice = el.price * el.quantity - (el.price / 2) * count;\r\n      }\r\n    } else {\r\n      return (sum += sumPrice);\r\n    }\r\n    return (sum += sumPrice);\r\n  }, 0);\r\n\r\n  return (\r\n    <div className=\"shopping__cart\">\r\n      <h1 className=\"shopping__cart-header\">Shopping Cart</h1>\r\n      <div className=\"shopping__cart-block\">\r\n        <ul className=\"shopping__cart-list\">\r\n          <li className=\"shopping__cart-item prod\">Product detail</li>\r\n          <li className=\"shopping__cart-item qty\">quantity</li>\r\n          <li className=\"shopping__cart-item total\">total</li>\r\n        </ul>\r\n\r\n        {products.map(({ id, name, price, image, quantity, discount }, i) => (\r\n          <Product\r\n            values={{ id, name, price, image, quantity, discount }}\r\n            i={i}\r\n            productsLength={products.length}\r\n            key={id}\r\n          />\r\n        ))}\r\n        <div className=\"cart__product-bottom\">\r\n          <Link to=\"/\">\r\n            <div className=\"cart__back\">\r\n              <span className=\"cart__arrow\">&#8592;</span> Go back\r\n            </div>\r\n          </Link>\r\n          <div className=\"total__sum\">{totalSum}$</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Cart from \"../components/cart/Cart\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function CartPage() {\r\n  const userCart = useSelector((state) => state.cart.products);\r\n\r\n  return (\r\n    <div className=\"cart__section\">\r\n      {userCart.length !== 0 ? (\r\n        <Cart />\r\n      ) : (\r\n        <div className=\"empty__cart  shopping__cart-block\">\r\n            <p className=\"empty__cart-title\" >Cart is empty</p>\r\n            <div className=\"cart__product-bottom\">\r\n          <Link to=\"/\">\r\n            <div className=\"cart__back\">\r\n              <span className=\"cart__arrow\">&#8592;</span> Go back\r\n            </div>\r\n          </Link>\r\n        </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/cart.ec34e04f.svg\";","\r\nexport const products = [\r\n  {\r\n    id: 1,\r\n    name: \"Banana\",\r\n    price: 10,\r\n    image: 'https://s.myspar.ru/upload/img/10/1013/101382.jpg?1594130253',\r\n    discount: false,\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Apple\",\r\n    price: 8,\r\n    image: 'https://m.dom-eda.com/uploads/images/catalog/item/86df51de21/c25c94fe96_1000.jpg',\r\n    discount: false,\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"Papaya\",\r\n    price: 10,\r\n    image: 'https://img2.zakaz.ua/upload.version_1.0.31fcbe6e84b88fdbfae213b548bad0b0.1350x1350.jpeg',\r\n    discount: true,\r\n  }\r\n];\r\n","import React from \"react\";\r\nimport \"./main.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport carIcon from \"../../assets/img/cart.svg\";\r\nimport { products } from \"../../productsData\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addToCart } from \"../../feutures/cartSlice\";\r\n\r\nexport default function Main() {\r\n\r\n    const productsInCart = useSelector(state => state.cart)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    const addProduct = (id) => {\r\n        dispatch(addToCart(...products.filter(prod => prod.id === id)))\r\n    }\r\n\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <header className=\"header\">\r\n        <div className=\"header__cart-block\">\r\n          <Link to=\"/cart\">\r\n            <img src={carIcon} alt=\"cart icon\" className=\"header__cart-icon\" />\r\n            <span className=\"header__cart-quantity\">{productsInCart.products.length}</span>\r\n          </Link>\r\n        </div>\r\n      </header>\r\n      <main className=\"product__section\">\r\n        {products.map(({ name, price, discount, image, id }) => (\r\n          <div className=\"product__card\" key={id}>\r\n            <img src={image} alt={name} className=\"product__card-image\" />\r\n            <p className=\"product__card-name\">{name}</p>\r\n            {discount && <p className=\"product__card-discount\">discount</p>}\r\n            <p className=\"product__card-price\">{price}$</p>\r\n            <p className=\"product__card-add\" onClick={() => addProduct(id)}>add to cart</p>\r\n          </div>\r\n        ))}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Main from \"../components/main/Main\";\r\n\r\n\r\nexport default function HomePage() {\r\n    return(\r\n        <>\r\n            <Main />\r\n        </>\r\n    )\r\n}","import React from \"react\";\nimport { HashRouter , Routes, Route } from \"react-router-dom\";\nimport Cart from './pages/CartPage.jsx'\nimport Home from './pages/HomePage.jsx'\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <HashRouter >\n        <Routes>\n          <Route path=\"/cart\" element={<Cart />}></Route>\n          <Route path=\"/\" element={<Home />}></Route>\n        </Routes>\n      </HashRouter >\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport cartReducer from './feutures/cartSlice'\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    cart: cartReducer\r\n  }\r\n})","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport store from \"./store\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}